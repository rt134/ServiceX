{"ast":null,"code":"var _jsxFileName = \"/home/venkatesh/Study/ead/servicex/client/src/components/pages/LocDetails.js\";\nimport React from 'react';\nimport \"./LocDetails.css\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nasync function loadScript(src) {\n  return new Promise(resolve => {\n    const script = document.createElement('script');\n    script.src = src;\n    document.body.appendChild(script);\n\n    script.onload = () => {\n      resolve(true);\n    };\n\n    script.onerror = () => {\n      resolve(false);\n    };\n\n    document.body.appendChild(script);\n  });\n}\n\nfunction LocDetails(props) {\n  async function displayRazorpay() {\n    const res = await loadScript('https://checkout.razorpay.com/v1/checkout.js');\n\n    if (!res) {\n      alert('Payment failed');\n      return;\n    }\n\n    const data = await fetch('http://localhost:1337/razorpay', {\n      method: 'Post'\n    }).then(t => t.json());\n    console.log(data);\n    const options = {\n      key: \"rzp_test_MKUouqTmTO1LNC\",\n      currency: data.currency,\n      amount: data.amount.toString(),\n      order_id: data.id,\n      name: props.type,\n      description: \"Test Transaction\",\n      image: \"https://example.com/your_logo\",\n      handler: function (response) {\n        alert('Payment Successful');\n      },\n      prefill: {\n        \"name\": \"I Venkatesh\",\n        \"email\": \"venky@example.com\",\n        \"contact\": \"9999999999\"\n      }\n    };\n    var paymentObject = new window.Razorpay(options);\n    paymentObject.open();\n  }\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"card\",\n    children: [/*#__PURE__*/_jsxDEV(\"img\", {\n      src: props.img,\n      alt: \"Avatar\",\n      style: \"width:100%\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 56,\n      columnNumber: 17\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"container\",\n      children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n        children: /*#__PURE__*/_jsxDEV(\"b\", {\n          children: props.name\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 58,\n          columnNumber: 25\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 58,\n        columnNumber: 21\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        children: props.price\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 59,\n        columnNumber: 21\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: displayRazorpay,\n        children: \"Book\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 60,\n        columnNumber: 21\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 57,\n      columnNumber: 17\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 55,\n    columnNumber: 13\n  }, this);\n}\n\n_c = LocDetails;\nexport default LocDetails;\n\nvar _c;\n\n$RefreshReg$(_c, \"LocDetails\");","map":{"version":3,"sources":["/home/venkatesh/Study/ead/servicex/client/src/components/pages/LocDetails.js"],"names":["React","loadScript","src","Promise","resolve","script","document","createElement","body","appendChild","onload","onerror","LocDetails","props","displayRazorpay","res","alert","data","fetch","method","then","t","json","console","log","options","key","currency","amount","toString","order_id","id","name","type","description","image","handler","response","prefill","paymentObject","window","Razorpay","open","img","price"],"mappings":";AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,OAAO,kBAAP;;;AACA,eAAeC,UAAf,CAA0BC,GAA1B,EAA8B;AAC1B,SAAO,IAAIC,OAAJ,CAAaC,OAAD,IAAY;AAC3B,UAAMC,MAAM,GAAGC,QAAQ,CAACC,aAAT,CAAuB,QAAvB,CAAf;AACAF,IAAAA,MAAM,CAACH,GAAP,GAAaA,GAAb;AACAI,IAAAA,QAAQ,CAACE,IAAT,CAAcC,WAAd,CAA0BJ,MAA1B;;AACAA,IAAAA,MAAM,CAACK,MAAP,GAAgB,MAAK;AACjBN,MAAAA,OAAO,CAAC,IAAD,CAAP;AACH,KAFD;;AAGAC,IAAAA,MAAM,CAACM,OAAP,GAAiB,MAAM;AACnBP,MAAAA,OAAO,CAAC,KAAD,CAAP;AACH,KAFD;;AAGAE,IAAAA,QAAQ,CAACE,IAAT,CAAcC,WAAd,CAA0BJ,MAA1B;AACH,GAXM,CAAP;AAcH;;AACD,SAASO,UAAT,CAAoBC,KAApB,EAA2B;AACvB,iBAAeC,eAAf,GACA;AACI,UAAMC,GAAG,GAAG,MAAMd,UAAU,CAAC,8CAAD,CAA5B;;AACA,QAAG,CAACc,GAAJ,EACA;AACIC,MAAAA,KAAK,CAAC,gBAAD,CAAL;AACA;AACH;;AACD,UAAMC,IAAI,GAAG,MAAMC,KAAK,CAAC,gCAAD,EAAkC;AAAEC,MAAAA,MAAM,EAAE;AAAV,KAAlC,CAAL,CAA2DC,IAA3D,CAAiEC,CAAD,IAC/EA,CAAC,CAACC,IAAF,EADe,CAAnB;AAGAC,IAAAA,OAAO,CAACC,GAAR,CAAYP,IAAZ;AACA,UAAMQ,OAAO,GAAG;AACZC,MAAAA,GAAG,EAAE,yBADO;AAEZC,MAAAA,QAAQ,EAAEV,IAAI,CAACU,QAFH;AAGZC,MAAAA,MAAM,EAAEX,IAAI,CAACW,MAAL,CAAYC,QAAZ,EAHI;AAIZC,MAAAA,QAAQ,EAAEb,IAAI,CAACc,EAJH;AAKZC,MAAAA,IAAI,EAAEnB,KAAK,CAACoB,IALA;AAMZC,MAAAA,WAAW,EAAE,kBAND;AAOZC,MAAAA,KAAK,EAAE,+BAPK;AAQZC,MAAAA,OAAO,EAAE,UAAUC,QAAV,EAAmB;AACxBrB,QAAAA,KAAK,CAAC,oBAAD,CAAL;AACH,OAVW;AAWZsB,MAAAA,OAAO,EAAE;AACL,gBAAQ,aADH;AAEL,iBAAS,mBAFJ;AAGL,mBAAW;AAHN;AAXG,KAAhB;AAiBA,QAAIC,aAAa,GAAG,IAAIC,MAAM,CAACC,QAAX,CAAoBhB,OAApB,CAApB;AACAc,IAAAA,aAAa,CAACG,IAAd;AACH;;AAGD,sBACQ;AAAK,IAAA,SAAS,EAAC,MAAf;AAAA,4BACI;AAAK,MAAA,GAAG,EAAE7B,KAAK,CAAC8B,GAAhB;AAAqB,MAAA,GAAG,EAAC,QAAzB;AAAkC,MAAA,KAAK,EAAC;AAAxC;AAAA;AAAA;AAAA;AAAA,YADJ,eAEI;AAAK,MAAA,SAAS,EAAC,WAAf;AAAA,8BACI;AAAA,+BAAI;AAAA,oBAAI9B,KAAK,CAACmB;AAAV;AAAA;AAAA;AAAA;AAAA;AAAJ;AAAA;AAAA;AAAA;AAAA,cADJ,eAEI;AAAA,kBAAInB,KAAK,CAAC+B;AAAV;AAAA;AAAA;AAAA;AAAA,cAFJ,eAGI;AAAQ,QAAA,OAAO,EAAE9B,eAAjB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,cAHJ;AAAA;AAAA;AAAA;AAAA;AAAA,YAFJ;AAAA;AAAA;AAAA;AAAA;AAAA,UADR;AAUH;;KA7CQF,U;AA+CT,eAAeA,UAAf","sourcesContent":["import React from 'react'\nimport \"./LocDetails.css\" \nasync function loadScript(src){\n    return new Promise((resolve) =>{\n        const script = document.createElement('script')\n        script.src = src\n        document.body.appendChild(script)\n        script.onload = () =>{\n            resolve(true);\n        }\n        script.onerror = () => {\n            resolve(false)\n        }\n        document.body.appendChild(script)\n    })\n    \n    \n}\nfunction LocDetails(props) {\n    async function displayRazorpay()\n    { \n        const res = await loadScript('https://checkout.razorpay.com/v1/checkout.js')\n        if(!res)\n        {\n            alert('Payment failed')\n            return\n        }\n        const data = await fetch('http://localhost:1337/razorpay',{ method: 'Post' }).then((t) => \n            t.json()\n        )\n        console.log(data)\n        const options = {\n            key: \"rzp_test_MKUouqTmTO1LNC\", \n            currency: data.currency,\n            amount: data.amount.toString(),\n            order_id: data.id,\n            name: props.type,\n            description: \"Test Transaction\",\n            image: \"https://example.com/your_logo\",\n            handler: function (response){\n                alert('Payment Successful')\n            },\n            prefill: {\n                \"name\": \"I Venkatesh\",\n                \"email\": \"venky@example.com\",\n                \"contact\": \"9999999999\"\n            },\n        };\n        var paymentObject = new window.Razorpay(options);\n        paymentObject.open();\n    }\n    \n\n    return (\n            <div className=\"card\">\n                <img src={props.img} alt=\"Avatar\" style=\"width:100%\"/>\n                <div className=\"container\">\n                    <h4><b>{props.name}</b></h4>\n                    <p>{props.price}</p>\n                    <button onClick={displayRazorpay}>Book</button>\n                </div>\n            </div>\n    )\n}\n\nexport default LocDetails\n"]},"metadata":{},"sourceType":"module"}